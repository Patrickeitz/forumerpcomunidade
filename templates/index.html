{% extends "base.html" %}
{% load static %}

{% block title %}In√≠cio{% endblock %}

{% block content %}
<h2 class="text-center mb-4">üé• √öltimos v√≠deos publicados</h2>

<div class="row">
  {% for video in videos %}
  <div class="col-sm-6 col-md-4 col-lg-3 mb-4">
    <div class="card shadow-sm h-100">
      {% if video.thumbnail %}
        <img src="{{ video.thumbnail.url }}" class="card-img-top" alt="{{ video.titulo }}">
      {% else %}
        <img src="{% static 'img/thumb.png' %}" class="card-img-top" alt="Miniatura padr√£o">
      {% endif %}

      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ video.titulo }}</h5>
        <p class="card-text text-muted small">{{ video.descricao|truncatechars:80 }}</p>

        {% if video.disponivel %}
          <a href="{% url 'video_detail' video.id %}" class="btn btn-primary mt-auto w-100">Assistir</a>
        {% else %}
          <button class="btn btn-secondary mt-auto w-100" disabled>Indispon√≠vel</button>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p class="text-center text-muted">Nenhum v√≠deo dispon√≠vel no momento.</p>
  {% endfor %}
</div>
{% endblock %}
